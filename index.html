<!DOCTYPE html>
<!-- saved from url=(0115)https://tutorials.nmdprojects.net/js_build_web_cards_from_data_2/related_files/js_build_cards_from_json_START.html# -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style id="local-style">
	/* Based on outline-styles-v1.6.*/
	body {
		font-family: verdana ;
		margin: 3em 3em ;
		color: dimgray ;
	}
	a {
		color: tomato ;
	}
	h1 {
		font-variant: small-caps ;
		font-size: 1.5em ;
		color: rgb(100%, 75%, 25% ) ;
	}
	#device {
		width: 414px ;
		height: 896px ;
		border: peru solid 2px ;
		border-radius: 10px ;
		padding: 20px ;
		background-color: palegoldenrod ;
	}
	.card {
		background-color: lightyellow ;
		border-radius: 10px ;
		padding: 1em ;
		margin-bottom: 20px ;
	}
	img {
		width: 100px ;
		float: left;
		margin: 0 1em .5em 0;
	}
</style>
<script id="local-json">
	// To embed JSON in an HTML file like this requires that you set it equal to a variable.
	cardsJSON = [
		// 1. Paste your sample JSON objects, i.e. what's inside the [] brackets, below.
		// ________________
		{
        "name": "Pizza",
        "type": "Italian",
        "calories": 285,
        "ingredients": ["dough", "tomato sauce", "cheese", "pepperoni"]
    },

    {
        "name": "Sushi",
        "type": "Japanese",
        "calories": 200,
        "ingredients": ["rice", "raw fish", "seaweed", "soy sauce"]

    },

    {
        "name": "Salad",
        "type": "Vegetarian",
        "calories": 150,
        "ingredients": ["lettuce", "tomato", "cucumber", "dressing"]
    },

    {
        "name": "Burger",
        "type": "American",
        "calories": 400,
        "ingredients": ["beef patty", "lettuce", "tomato", "cheese", "ketchup"]
    }
	
	] ;
</script>
<script id="simple-fetch-demo">
	// 8.	Now let's switch to external JSON. Upload your JSON file to a folder on your server
	//		and upload this HTML file to the same folder.
	// 9.	To load your JSON in an external file, we'll overwrite the local JSON above.
	// 		First add a word to the following line that says this function will operate asynchronously.
	buildCardsFromData = async () => {
		// 10.	Put the word "await" before any command that requires waiting for data to load.
		// 11.	Fetch the JSON file name you used above (must be in the same folder).
		let response = await fetch('sampleJson.json') ;
		// 12.	Add a method that converts the response to JSON. Make this call asynchronous too.
		let cardsJSON = await response.json();
		// From here down, everything is client-side, so we don't need the "await" keyword anymore.
		// We'll make cards from each item in our cardsJSON array.
		// Below is a quick-and-dirty way to make divs from your JSON,
		// just by loading HTML tags into a big string variable.
		// 3.	Fill in the iterator that creates one array from another.
		cardsHTML = cardsJSON.map(
			card => {
				// 4	Add the punctuation marks that enclose a string template.
				// 5.	Also fill in four of the labels (keys) from your sample JSON records.
				// 		(You may not use all of your keys.)
				return (
					`<div class="card">
						<h4>${card["name"]}</h4>
						<h5>${card["type"]}</h5>e
						<p>${card["calories"]}</p>
						<p>${card["ingredients"]}</p>
					</div>`
				)
			} 
		) ;
		// 6.	Log the result in the console to make sure our JSON is converting to HTML correctly.
		// 		You'll see weird line breaks because of the way we formatted our text above.
		console.log(  `cardsHTML is ${cardsHTML}` ) ;
		// Now we will just add each of these cards to our container.
		// 7. Fill in the method that adds HTML content inside a tag.
		cardsHTML.forEach(
			card => {
				document.getElementById("device").innerHTML+= card ;
			}
		) ;
	} ;
	// Note that we are not checking for errors in the server connection.
	// To do that, we could add this to the call in our link below.
	// buildCardsFromData().catch( error => console.log(error) ) ;
</script>
</head>
<body data-new-gr-c-s-check-loaded="14.1051.0" data-gr-ext-installed="">
<h1>Basic Fetch Demo</h1>
<!-- 2. Add an event listener that calls our function above when clicked. -->
<p><a href="#" onclick="buildCardsFromData()"; return false;>Build cards</a></p>
<p id="device"></p>


</body><grammarly-desktop-integration data-grammarly-shadow-root="true"><template shadowrootmode="open"><style>
      div.grammarly-desktop-integration {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
        -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select:none;
        user-select:none;
      }

      div.grammarly-desktop-integration:before {
        content: attr(data-content);
      }
    </style><div aria-label="grammarly-integration" role="group" tabindex="-1" class="grammarly-desktop-integration" data-content="{&quot;mode&quot;:&quot;full&quot;,&quot;isActive&quot;:true,&quot;isUserDisabled&quot;:false}"></div></template></grammarly-desktop-integration></html> 